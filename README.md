# Simple Weather Script ‚òÄÔ∏èüåß

[![Python](https://img.shields.io/badge/Python-3.12-blue?logo=python)](https://www.python.org/)
[![Typing](https://img.shields.io/badge/Typing-100%25-blueviolet)](#)
[![Status](https://img.shields.io/badge/Project-educational-success)](#)
[![Made with ‚ù§Ô∏è](https://img.shields.io/badge/Made%20with-%E2%9D%A4-red)](#)
[![Course](https://img.shields.io/badge/Course-%D0%A2%D0%B8%D0%BF%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B9%20Python-lightgrey)](https://to.digital/typed-python/)

---

## –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è

### üìå –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–µ–≥–æ IP.

### üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **`coordinates.py`** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `requests` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å [ipinfo.io](https://ipinfo.io/json).
2. **`weather_api_service.py`** ‚Äî —Å –ø–æ–º–æ—â—å—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–≥–æ–¥–µ –∏–∑ [OpenWeatherMap](https://openweathermap.org/).
3. **`weather_formatter.py`** ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–≥–æ–¥–µ –≤ —É–¥–æ–±–Ω—ã–π –¥–ª—è —á—Ç–µ–Ω–∏—è –≤–∏–¥.
4. **–¢–∏–ø–∏–∑–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: `typing`, `dataclasses`, `Protocol`.
5. **`config.py`** ‚Äî —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
6. **`history.py`** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `Protocol` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–≥–æ–¥—ã, –∞ —Ç–∞–∫–∂–µ –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:
   - –≤ `.txt` —Ñ–∞–π–ª
   - –≤ `.json` —Ñ–∞–π–ª

### üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone <—Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd <–∏–º—è-–ø–∞–ø–∫–∏-–ø—Ä–æ–µ–∫—Ç–∞>
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`, —Å–∫–æ–ø–∏—Ä–æ–≤–∞–≤ `.env.example`:

```bash
cp .env.example .env
```

3. –£–∫–∞–∂–∏—Ç–µ API –∫–ª—é—á –æ—Ç OpenWeather –≤ `.env`:

```
OPENWEATHER_API=–≤–∞—à_–∫–ª—é—á
```

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
uv sync
uv run --env-file ".env" .\main.py
```

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `requests`
- `uv` ‚Äî –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ø—É—Å–∫–∞

### ‚úÖ –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–ü–æ–≥–æ–¥–∞ –≤ Moscow, RU:
–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: 15¬∞C
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±–ª–∞—á–Ω–æ
–í–ª–∞–∂–Ω–æ—Å—Ç—å: 72%
```

### üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ coordinates.py
‚îú‚îÄ‚îÄ weather_api_service.py
‚îú‚îÄ‚îÄ weather_formatter.py
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ history.py
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

### üìò –û–± –æ–±—É—á–µ–Ω–∏–∏

–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫—É—Ä—Å–∞ **¬´–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Python –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏¬ª** –æ—Ç **–ê–ª–µ–∫—Å–µ—è –ì–æ–ª–æ–±—É—Ä–¥–∏–Ω–∞**, –∫–æ–º–∞–Ω–¥–∞ **–î–∏–¥–∂–∏—Ç–∞–ª–∏–∑–∏—Ä—É–π!**.

---

## English Version

### üìå Description

A simple script to get the current weather based on your IP address.

### üîç How it works

1. **`coordinates.py`** ‚Äî uses `requests` to get the user's current coordinates via [ipinfo.io](https://ipinfo.io/json).
2. **`weather_api_service.py`** ‚Äî gets weather data from [OpenWeatherMap](https://openweathermap.org/) using the coordinates.
3. **`weather_formatter.py`** ‚Äî formats the weather data into a readable output.
4. **Typing** ‚Äî the entire project is strictly typed using built-in tools like `typing`, `dataclasses`, and `Protocol`.
5. **`config.py`** ‚Äî config file.
6. **`history.py`** ‚Äî defines a `Protocol` for storing weather history, with two implementations:
   - Save to `.txt` file
   - Save to `.json` file

### üöÄ How to run

1. Clone the repository:

```bash
git clone <repository-link>
cd <project-folder>
```

2. Create a `.env` file based on the example:

```bash
cp .env.example .env
```

3. Add your OpenWeather API key to `.env`:

```
OPENWEATHER_API=your_key
```

4. Install dependencies and run the script:

```bash
uv sync
uv run --env-file ".env" .\main.py
```

### üì¶ Dependencies

- `requests`
- `uv` ‚Äî project runner

### ‚úÖ Example Output

```
Weather in Moscow, RU:
Temperature: 15¬∞C
Description: Cloudy
Humidity: 72%
```

### üß© Project Structure

```
.
‚îú‚îÄ‚îÄ coordinates.py
‚îú‚îÄ‚îÄ weather_api_service.py
‚îú‚îÄ‚îÄ weather_formatter.py
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ history.py
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ README.md
```

### üìò About the Course

This code was written during the course **‚ÄúTyped Python for Professional Development‚Äù** by **Alexey Goloburdin**, team **Digitaliziruy!**
